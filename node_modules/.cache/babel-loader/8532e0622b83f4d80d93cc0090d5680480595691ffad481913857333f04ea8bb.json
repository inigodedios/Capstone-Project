{"ast":null,"code":"import React,{useState,useEffect}from'react';import{useParams}from'react-router-dom';import axios from'axios';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";const UserProfile=()=>{const{userId}=useParams();const[portfolio,setPortfolio]=useState(null);const[stockDetails,setStockDetails]=useState({});const[selectedStock,setSelectedStock]=useState(null);const[loading,setLoading]=useState(true);const[loadingDetails,setLoadingDetails]=useState(false);useEffect(()=>{const fetchPortfolio=async()=>{setLoading(true);try{const response=await fetch(\"https://concise-honor-416313.ew.r.appspot.com/portfolio/user1\");if(!response.ok){throw new Error(\"Network response was not ok\");}const data=await response.json();setPortfolio(data);}catch(error){console.error('Error fetching portfolio data:',error);}finally{setLoading(false);}};fetchPortfolio();},[userId]);const fetchStockDetails=async symbol=>{setLoadingDetails(true);if(stockDetails[symbol]){setSelectedStock(symbol);setLoadingDetails(false);}else{try{const response=await fetch(\"http://concise-honor-416313.ew.r.appspot.com/stockinfo/\".concat(symbol));if(!response.ok){throw new Error(\"Network response was not ok for symbol: \".concat(symbol));}const data=await response.json();setStockDetails(prevDetails=>({...prevDetails,[symbol]:data}));setSelectedStock(symbol);}catch(error){console.error(\"Error fetching details for \".concat(symbol,\":\"),error);}finally{setLoadingDetails(false);}}};return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"portfolio-container\",style:{margin:'20px'},children:loading?/*#__PURE__*/_jsx(\"p\",{children:\"Loading...\"}):portfolio?/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(\"h2\",{className:\"text-2xl font-bold mb-4\",children:[\"Portfolio for \",userId]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-lg mb-6\",children:[\"Total Portfolio Value: $\",portfolio.total_value.toFixed(2)]}),/*#__PURE__*/_jsx(\"div\",{children:Object.entries(portfolio.symbols).map(_ref=>{let[symbol,details]=_ref;return/*#__PURE__*/_jsxs(\"div\",{className:\"stock-item\",style:{display:'flex',justifyContent:'left',alignItems:'center',padding:'16px',backgroundColor:'white',// boxShadow: '0px 2px 4px rgba(0,0,0,0.1)',\nmarginBottom:'16px',border:'1px solid black',cursor:'pointer'},onClick:()=>fetchStockDetails(symbol),children:[/*#__PURE__*/_jsx(\"span\",{className:\"font-medium text-lg\",children:symbol}),/*#__PURE__*/_jsxs(\"span\",{style:{marginLeft:'3em'},children:[details.quantity,\" stocks\"]})]},symbol);})}),selectedStock&&stockDetails[selectedStock]&&/*#__PURE__*/_jsxs(\"div\",{className:\"stock-details\",style:{marginTop:'32px'},children:[/*#__PURE__*/_jsxs(\"h3\",{className:\"text-xl font-bold mb-4\",children:[\"Stock Details for \",selectedStock]}),loadingDetails?/*#__PURE__*/_jsx(\"p\",{children:\"Loading details...\"}):/*#__PURE__*/_jsxs(\"table\",{className:\"details-table\",style:{width:'100%',borderCollapse:'collapse'},children:[/*#__PURE__*/_jsx(\"thead\",{children:/*#__PURE__*/_jsx(\"tr\",{children:['Date','Open','High','Low','Close','Volume'].map(header=>/*#__PURE__*/_jsx(\"th\",{style:{border:'1px solid black',padding:'8px',textAlign:'left',backgroundColor:'white',color:'black'},children:header},header))})}),/*#__PURE__*/_jsx(\"tbody\",{children:stockDetails[selectedStock].map((_ref2,index)=>{let[date,data]=_ref2;return/*#__PURE__*/_jsxs(\"tr\",{style:{backgroundColor:'white'},children:[/*#__PURE__*/_jsx(\"td\",{style:{border:'1px solid black',padding:'8px'},children:date}),/*#__PURE__*/_jsx(\"td\",{style:{border:'1px solid black',padding:'8px'},children:data['1. open']}),/*#__PURE__*/_jsx(\"td\",{style:{border:'1px solid black',padding:'8px'},children:data['2. high']}),/*#__PURE__*/_jsx(\"td\",{style:{border:'1px solid black',padding:'8px'},children:data['3. low']}),/*#__PURE__*/_jsx(\"td\",{style:{border:'1px solid black',padding:'8px'},children:data['4. close']}),/*#__PURE__*/_jsx(\"td\",{style:{border:'1px solid black',padding:'8px'},children:data['5. volume']})]},index);})})]})]})]}):/*#__PURE__*/_jsx(\"p\",{children:\"No portfolio data available.\"})})});};export default UserProfile;","map":{"version":3,"names":["React","useState","useEffect","useParams","axios","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","UserProfile","userId","portfolio","setPortfolio","stockDetails","setStockDetails","selectedStock","setSelectedStock","loading","setLoading","loadingDetails","setLoadingDetails","fetchPortfolio","response","fetch","ok","Error","data","json","error","console","fetchStockDetails","symbol","concat","prevDetails","children","className","style","margin","total_value","toFixed","Object","entries","symbols","map","_ref","details","display","justifyContent","alignItems","padding","backgroundColor","marginBottom","border","cursor","onClick","marginLeft","quantity","marginTop","width","borderCollapse","header","textAlign","color","_ref2","index","date"],"sources":["/Users/inigodedios/Library/Mobile Documents/com~apple~CloudDocs/IE University/2 trimester/Capstone 3/my-app/src/UserProfile.js"],"sourcesContent":["import React, { useState, useEffect } from 'react';\nimport { useParams } from 'react-router-dom';\nimport axios from 'axios';\n\nconst UserProfile = () => {\n  const { userId } = useParams();\n  const [portfolio, setPortfolio] = useState(null);\n  const [stockDetails, setStockDetails] = useState({});\n  const [selectedStock, setSelectedStock] = useState(null);\n  const [loading, setLoading] = useState(true);\n  const [loadingDetails, setLoadingDetails] = useState(false);\n\n  useEffect(() => {\n    const fetchPortfolio = async () => {\n      setLoading(true);\n      try {\n        const response = await fetch(`https://concise-honor-416313.ew.r.appspot.com/portfolio/user1`);\n        if (!response.ok) {\n          throw new Error(\"Network response was not ok\");\n        }\n        const data = await response.json();\n        setPortfolio(data);\n      } catch (error) {\n        console.error('Error fetching portfolio data:', error);\n      } finally {\n        setLoading(false);\n      }\n    };\n\n    fetchPortfolio();\n  }, [userId]);\n\n  const fetchStockDetails = async (symbol) => {\n    setLoadingDetails(true);\n    if (stockDetails[symbol]) {\n      setSelectedStock(symbol);\n      setLoadingDetails(false);\n    } else {\n      try {\n        const response = await fetch(`http://concise-honor-416313.ew.r.appspot.com/stockinfo/${symbol}`);\n        if (!response.ok) {\n          throw new Error(`Network response was not ok for symbol: ${symbol}`);\n        }\n        const data = await response.json();\n        setStockDetails(prevDetails => ({\n          ...prevDetails,\n          [symbol]: data\n        }));\n        setSelectedStock(symbol);\n      } catch (error) {\n        console.error(`Error fetching details for ${symbol}:`, error);\n      } finally {\n        setLoadingDetails(false);\n      }\n    }\n  };\n\n  return (\n    <>\n      <div className=\"portfolio-container\" style={{ margin: '20px' }}> \n        {loading ? (\n          <p>Loading...</p>\n        ) : portfolio ? (\n          <>\n            <h2 className=\"text-2xl font-bold mb-4\">Portfolio for {userId}</h2>\n            <p className=\"text-lg mb-6\">Total Portfolio Value: ${portfolio.total_value.toFixed(2)}</p>\n            <div>\n              {Object.entries(portfolio.symbols).map(([symbol, details]) => (\n                <div\n                  key={symbol}\n                  className=\"stock-item\"\n                  style={{\n                    display: 'flex',\n                    justifyContent: 'left',\n                    alignItems: 'center',\n                    padding: '16px',\n                    backgroundColor: 'white',\n                    // boxShadow: '0px 2px 4px rgba(0,0,0,0.1)',\n                    marginBottom: '16px',\n                    border: '1px solid black',\n                    cursor: 'pointer',\n                  }}\n                  onClick={() => fetchStockDetails(symbol)}\n                >\n                  <span className=\"font-medium text-lg\">{symbol}</span>\n                  <span style={{ marginLeft: '3em' }}>{details.quantity} stocks</span>\n                </div>\n              ))}\n            </div>\n            {selectedStock && stockDetails[selectedStock] && (\n              <div className=\"stock-details\" style={{ marginTop: '32px' }}>\n                <h3 className=\"text-xl font-bold mb-4\">Stock Details for {selectedStock}</h3>\n                {loadingDetails ? (\n                  <p>Loading details...</p>\n                ) : (\n                  <table className=\"details-table\" style={{ width: '100%', borderCollapse: 'collapse' }}>\n                    <thead>\n                      <tr>\n                        {['Date', 'Open', 'High', 'Low', 'Close', 'Volume'].map((header) => (\n                          <th key={header} style={{ border: '1px solid black', padding: '8px', textAlign: 'left', backgroundColor: 'white', color: 'black' }}>{header}</th>\n                        ))}\n                      </tr>\n                    </thead>\n                    <tbody>\n                      {stockDetails[selectedStock].map(([date, data], index) => (\n                        <tr key={index} style={{ backgroundColor:'white'}}>\n                          <td style={{ border: '1px solid black', padding: '8px' }}>{date}</td>\n                          <td style={{ border: '1px solid black', padding: '8px' }}>{data['1. open']}</td>\n                          <td style={{ border: '1px solid black', padding: '8px' }}>{data['2. high']}</td>\n                          <td style={{ border: '1px solid black', padding: '8px' }}>{data['3. low']}</td>\n                          <td style={{ border: '1px solid black', padding: '8px' }}>{data['4. close']}</td>\n                          <td style={{ border: '1px solid black', padding: '8px' }}>{data['5. volume']}</td>\n                        </tr>\n                      ))}\n                    </tbody>\n                  </table>\n                )}\n              </div>\n            )}\n          </>\n        ) : (\n          <p>No portfolio data available.</p>\n        )}\n      </div>\n    </>\n  );\n};\n\nexport default UserProfile;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}